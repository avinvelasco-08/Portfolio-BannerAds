<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<meta charset="UTF-8">
	<title>Biogen - MNDA</title>
	<meta name="ad.size" content="width=300,height=250"> 
	<link rel="stylesheet" href="style.css">
    <!-- GSAP -->
    <script src='https://s0.2mdn.net/ads/studio/cached_libs/gsap_3.2.4_min.js'></script>
    <!-- STANDARD -->
    <script type="text/javascript">
    	(function(){
		    var _ = function(a) {return new q(a);},
		       	q = function (a) {var b = (typeof a === 'string') ? document.querySelector(a) : a;this.c = b;return this;};  
		        _.fn = q.prototype = {
		        off: function(a, b) {if(this.c.addEventListener) {this.c.removeEventListener(a, b, false);}else if(this.c.attachEvent) {this.c.detachEvent('on'+a, b);};return this;},
		        on: function(a, b) {if(this.c.addEventListener) {this.c.addEventListener(a, b, false);}else if(this.c.attachEvent) {this.c.attachEvent('on'+a, b);};  return this;},
		        add: function(a) {this.c.innerHTML = a; return this;},
		        way: function(a) {for(var b in a) {if (a.hasOwnProperty(b)) {this.c.style[b] = a[b];};};return this;}
		    };
		    if(!window._) {window._=_;}
		})();
		function startPreload(){
			var ctr = 0, images_arr = new Array(), preArgumentsLength = startPreload.arguments.length-1, preArguments = startPreload.arguments; 
			for (i = 0; i < preArgumentsLength; i++) {images_arr[i] = new Image(), images_arr[i].src = startPreload.arguments[i], _(images_arr[i]).on('load', imageLoaded);}
			function imageLoaded(){if(ctr === (preArgumentsLength - 1)){preArguments[preArgumentsLength]();}else{ctr++;}} 
		}
		_(window).on('load', function() {
		    initAd();
		})
    </script>
	<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
</head>
<body>
	<div id="container">
		<!-- ~~~~~~~~~~~~~~ INSERT DIVS ~~~~~~~~~~~~~~ -->
		<div class='bg imgfix'>
			<img src="bg.jpg" alt="Background">
		</div>

		<div class="whiteBg"></div>
		<!-- FRAME 1 -->
		<div class="frame1">
			<div class='sprite f1-t1 f1'></div>
			<div class='sprite f1-t2 f1'></div>
		</div>

		<!-- FRAME 2 -->
		<div class="frame2">
			<div class='sprite f2-t1 f2'></div>
			<div class='sprite f2-t2 f2'></div>
		</div>
		
		<!-- FRAME 3 -->
		<div class="frame3">

			<div id="GroupPeople">
				<div class="PeopleGroup1">
					<img src="PeopleGroup1.png" alt="PeopleGroup1">
				</div>
				<div class="PeopleGroup2">
					<img src="PeopleGroup2.png" alt="PeopleGroup1">
				</div>
				<div class="PeopleGroup3">
					<img src="PeopleGroup3.png" alt="PeopleGroup1">
				</div>
				<div class="PeopleGroup4">
					<img src="PeopleGroup4.png" alt="PeopleGroup1">
				</div>
				<div class="Bottom_Pips">
					<img src="Bottom_Pips.png" alt="Bottom_Pips">
				</div>

				<div class="Inf1 infected">
					<img src="Infected.png">
				</div>
				<div class="Inf2 infected">
					<img src="Infected.png">
				</div>
				<div class="Inf3 infected">
					<img src="Infected.png">
				</div>
			</div>	

			<div class="DNAanim">
				<div class="strands s1 b  str1a"></div>
				<div class="strands s1 lb str1b"></div>
				<div class="strands s2 lb str2a"></div>
				<div class="strands s2 b  str2b"></div>
				
				<div class="DNA">
					<img src="DNA.png">
				</div>
				<div class="man">
					<img src="man.png">
				</div>
			</div>

			<div class='sprite f3-t1'></div>
		</div>
		

		<!-- FRAME 4 -->
		<div class="frame4">
			<div class='sprite logo1-big'></div>
		</div>
		
		<div class='sprite footer-jobcode'></div>
		<div class='sprite footer-logo1'></div>
		<div class='sprite footer-logo2'></div>
		<div class='sprite ref-txt'></div>

        <div id='clickthru'></div>

		<!-- ~~~~~~~~~~~~~~ INSERT DIVS ~~~~~~~~~~~~~~ -->
	</div>
	<script>
		var tl = gsap.timeline({delay:0.5});
		function initAd() {
			//--------- PRE-LOAD IMAGE ------------
			startPreload('bg.jpg',
						 'sprite.png',
						  startAnim);
			//-------------------------------------
			function startAnim() {
				//--------------- SET -----------------
				gsap.set('#container', {display: 'block'});
                gsap.set('.imgfix', { rotation:0.001});
                gsap.set('.sprite', { rotation:0.001});
				//------------ ADD EVENT --------------
				addEvent();
				//---------- ADD ANIMATION ------------
				tl
				// ==================
				.add('Scene1')
				.from('.whiteBg', {duration:1.5, clip:'rect(100px,300px,100px,0px)', ease:'power4.out'}, 'Scene1')
				.from('.f1', {duration:0.8, x:-20, opacity:0, ease:'power3.out', stagger:1}, 'Scene1+=1.3')
				.to('.f1',   {duration:0.5, x:10, opacity:0, ease:'power2.in'}, 'Scene1+=3.8')

				// ==================
				.add('Scene2', '+=0.3')
				.from('.f2-t1', {duration:1, x:-15, opacity:0, ease:'power3.out'}, 'Scene2')
                .from(['.DNA', '.man'], {duration:1, opacity: 0, ease:'power2.out'}, 'Scene2')
                .from('.s1', {duration:0.3, scaleX:0, ease:'power2.out', stagger:0.2}, 'Scene2+=0.5')
                .from('.s2', {duration:0.3, scaleX:0, ease:'power2.out', stagger:0.2}, 'Scene2+=1')
                .to('.str1a', {duration:0.3, rotation:15, ease:'power1.out'}, 'Scene2+=1.02')
                .to('.str2b', {duration:0.3, rotation:15, ease:'power1.out'}, 'Scene2+=1.32')

				// ==================
				.add('Scene2a', '+=0.8')
				.to('.DNAanim', {duration:2.5, scale:0.548, x:-62, ease:'expo.inOut'}, 'Scene2a')
                .to(['.strands', '.DNA'], {duration:1.8, opacity:0, ease:'expo.inOut'}, 'Scene2a')
				.to('.f2-t1',   {duration:0.7, opacity:0, ease:'power2.in'}, 'Scene2a+=1')
				.from('.f2-t2', {duration:1, x:-15, opacity:0, ease:'power3.out'}, 'Scene2a+=1.8')
                .from(['.PeopleGroup1', '.PeopleGroup2', '.PeopleGroup3', '.PeopleGroup4'], {duration:1, opacity:0, ease:'sine.out', stagger:0.6}, 'Scene2a+=2.1')
   
				// ==================
				.add('Scene2b', '+=0.8')
				.to('.f2-t2',   {duration:0.7, opacity:0, ease:'power2.in'}, 'Scene2b')
				.from('.f3-t1', {duration:1, x:-15, opacity:0, ease:'power3.out'}, 'Scene2b+=0.8')
				.to(['#GroupPeople', '.DNAanim'], {duration:1.8, y:"-=273", x:"-=1", ease:'power3.inOut'}, 'Scene2b+=0.55')
				.from('.Inf1', {duration:0.5, opacity:0, ease:'sine.out'}, 'Scene2b+=3')
				.from('.Inf2', {duration:0.5, opacity:0, ease:'sine.out'}, 'Scene2b+=3.5')
				.from('.Inf3', {duration:0.5, opacity:0, ease:'sine.out'}, 'Scene2b+=4')

                // ==================
				.add('Scene4', '+=2')
                .to(['.f3-t1', '.frame3'], {duration:0.6, opacity:0, ease:'power2.out'}, 'Scene4')
                .from('.logo1-big', {duration:0.8, opacity:0, ease:'sine.out'}, 'Scene4+=0.8')

                // ==================
				.add('Scene5', '+=2')
                .to('.logo1-big', {duration:0.6, opacity:0, ease:'sine.out'}, 'Scene5')
                .from('.ref-txt', {duration:0.8, opacity:0, ease:'sine.out'}, 'Scene5+=0.7')
				//-------------------------------------
			};
			function addEvent() {
				// _('#clickthru').on('click', exit);
			};
			
			function exit() {
        		window.open(clickTag);
            }

            //-------------------------------------
            
		};
	</script>
</body>
</html>